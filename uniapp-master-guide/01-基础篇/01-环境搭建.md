# UniApp ç¯å¢ƒæ­å»º

## 1. å¼€å‘å·¥å…·é€‰æ‹©

### æ–¹æ¡ˆä¸€ï¼šHBuilderXï¼ˆæ¨èæ–°æ‰‹ï¼‰

**ä¼˜ç‚¹ï¼š**
- å®˜æ–¹å¼€å‘å·¥å…·ï¼Œé›†æˆåº¦é«˜
- å†…ç½®æ¨¡æ‹Ÿå™¨å’ŒçœŸæœºè°ƒè¯•
- ä¸€é”®è¿è¡Œåˆ°å„ä¸ªå¹³å°
- ä»£ç æç¤ºå®Œå–„

**ä¸‹è½½åœ°å€ï¼š** https://www.dcloud.io/hbuilderx.html

### æ–¹æ¡ˆäºŒï¼šVS Code + CLIï¼ˆæ¨èè¿›é˜¶ï¼‰

**ä¼˜ç‚¹ï¼š**
- ç¼–è¾‘å™¨è‡ªç”±åº¦é«˜
- æ’ä»¶ç”Ÿæ€ä¸°å¯Œ
- æ”¯æŒ Git ç­‰ç‰ˆæœ¬æ§åˆ¶æ›´æ–¹ä¾¿
- é€‚åˆå›¢é˜Ÿåä½œ

**éœ€è¦å®‰è£…ï¼š**
- Node.js 16+
- VS Code
- æ’ä»¶ï¼šuni-helperã€Volarã€TypeScript Vue Plugin

## 2. ç¯å¢ƒå‡†å¤‡

### 2.1 å®‰è£… Node.js

```bash
# æ£€æŸ¥æ˜¯å¦å·²å®‰è£…
node -v
npm -v

# æ¨èä½¿ç”¨ nvm ç®¡ç† Node ç‰ˆæœ¬
# Linux/Mac
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install 18
nvm use 18

# Windows
# ä¸‹è½½å®‰è£… nvm-windows
# https://github.com/coreybutler/nvm-windows/releases
```

### 2.2 å®‰è£… Vue CLIï¼ˆå¯é€‰ï¼‰

```bash
npm install -g @vue/cli
vue --version
```

### 2.3 å®‰è£… UniApp CLI

```bash
# å®˜æ–¹ CLI å·¥å…·
npm install -g @dcloudio/uvm
uvm
```

## 3. åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®

### 3.1 ä½¿ç”¨ HBuilderX åˆ›å»º

1. æ‰“å¼€ HBuilderX
2. æ–‡ä»¶ â†’ æ–°å»º â†’ é¡¹ç›®
3. é€‰æ‹© uni-app
4. é€‰æ‹©æ¨¡æ¿ï¼šé»˜è®¤æ¨¡æ¿ æˆ– Hello uni-app
5. è¾“å…¥é¡¹ç›®åç§°ï¼Œé€‰æ‹©ç›®å½•

### 3.2 ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»ºï¼ˆæ¨èï¼‰

```bash
# Vue 3 + TypeScript + Viteï¼ˆæ¨èï¼‰
npx degit dcloudio/uni-preset-vue#vite-ts my-uniapp-project

# Vue 3 + JavaScript + Vite
npx degit dcloudio/uni-preset-vue#vite my-uniapp-project

# Vue 2 + JavaScriptï¼ˆæ—§ç‰ˆï¼‰
npx degit dcloudio/uni-preset-vue#vue2 my-uniapp-project
```

### 3.3 å®‰è£…ä¾èµ–

```bash
cd my-uniapp-project
npm install
```

## 4. é¡¹ç›®è¿è¡Œ

### 4.1 è¿è¡Œåˆ° H5

```bash
npm run dev:h5

# æµè§ˆå™¨è®¿é—®
# http://localhost:5173/
```

### 4.2 è¿è¡Œåˆ°å¾®ä¿¡å°ç¨‹åº

```bash
npm run dev:mp-weixin

# 1. ä¸‹è½½å¾®ä¿¡å¼€å‘è€…å·¥å…·
# 2. å¯¼å…¥é¡¹ç›®ç›®å½•ä¸‹çš„ dist/dev/mp-weixin
# 3. å¼€å§‹è°ƒè¯•
```

### 4.3 è¿è¡Œåˆ°æ”¯ä»˜å®å°ç¨‹åº

```bash
npm run dev:mp-alipay
```

### 4.4 è¿è¡Œåˆ° App

```bash
# éœ€è¦ HBuilderX
npm run dev:app

# æˆ–åœ¨ HBuilderX ä¸­
# è¿è¡Œ â†’ è¿è¡Œåˆ°æ‰‹æœºæˆ–æ¨¡æ‹Ÿå™¨
```

## 5. VS Code é…ç½®ï¼ˆä½¿ç”¨ CLI å¼€å‘ï¼‰

### 5.1 å®‰è£…æ¨èæ’ä»¶

```json
{
  "recommendations": [
    "Vue.volar",
    "Vue.vscode-typescript-vue-plugin",
    "dbaeumer.vscode-eslint",
    "esbenp.prettier-vscode",
    "uni-helper.uni-helper-vscode",
    "ModyQyW.vscode-uni-helper",
    "evils.uniapp-vscode"
  ]
}
```

### 5.2 é…ç½® settings.json

```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "[vue]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "typescript.tsdk": "node_modules/typescript/lib",
  "volar.takeOverMode.enabled": true
}
```

### 5.3 é…ç½® .prettierrc

```json
{
  "semi": false,
  "singleQuote": true,
  "printWidth": 100,
  "trailingComma": "none",
  "arrowParens": "avoid",
  "endOfLine": "auto"
}
```

## 6. å¾®ä¿¡å¼€å‘è€…å·¥å…·é…ç½®

### 6.1 ä¸‹è½½å®‰è£…

https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html

### 6.2 å¯¼å…¥é¡¹ç›®

1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. é€‰æ‹©å°ç¨‹åºé¡¹ç›®
3. å¯¼å…¥é¡¹ç›®ç›®å½•ï¼š`é¡¹ç›®æ ¹ç›®å½•/dist/dev/mp-weixin`
4. AppIDï¼šæµ‹è¯•å·æˆ–æ­£å¼ AppID

### 6.3 é…ç½®ï¼ˆé‡è¦ï¼‰

åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼š
- è®¾ç½® â†’ å®‰å…¨è®¾ç½® â†’ æœåŠ¡ç«¯å£ï¼šå¼€å¯
- è¯¦æƒ… â†’ æœ¬åœ°è®¾ç½®ï¼š
  - âœ… ä¸æ ¡éªŒåˆæ³•åŸŸå
  - âœ… ä¸æ ¡éªŒ TLS ç‰ˆæœ¬

## 7. çœŸæœºè°ƒè¯•

### 7.1 H5 çœŸæœºè°ƒè¯•

```bash
# è·å–æœ¬åœ° IP
ifconfig  # Mac/Linux
ipconfig  # Windows

# æ‰‹æœºè®¿é—®
http://ä½ çš„IP:5173
```

### 7.2 å¾®ä¿¡å°ç¨‹åºçœŸæœºè°ƒè¯•

åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼š
- ç‚¹å‡» "é¢„è§ˆ"
- æ‰‹æœºå¾®ä¿¡æ‰«ç 

### 7.3 App çœŸæœºè°ƒè¯•

ä½¿ç”¨ HBuilderXï¼š
- è¿æ¥æ‰‹æœºï¼ˆUSB è°ƒè¯•æ¨¡å¼ï¼‰
- è¿è¡Œ â†’ è¿è¡Œåˆ°æ‰‹æœºæˆ–æ¨¡æ‹Ÿå™¨
- é€‰æ‹©ä½ çš„è®¾å¤‡

## 8. å¸¸è§é—®é¢˜

### 8.1 npm install å¤±è´¥

```bash
# ä½¿ç”¨æ·˜å®é•œåƒ
npm config set registry https://registry.npmmirror.com

# æˆ–ä½¿ç”¨ cnpm
npm install -g cnpm --registry=https://registry.npmmirror.com
cnpm install
```

### 8.2 å¾®ä¿¡å¼€å‘è€…å·¥å…·å¯¼å…¥å¤±è´¥

- ç¡®ä¿å¯¼å…¥çš„æ˜¯ `dist/dev/mp-weixin` ç›®å½•
- ç¡®ä¿å·²è¿è¡Œ `npm run dev:mp-weixin`
- æ£€æŸ¥ AppID æ˜¯å¦æ­£ç¡®

### 8.3 HBuilderX å’Œ CLI å¦‚ä½•é€‰æ‹©

| ç‰¹æ€§ | HBuilderX | CLI |
|------|-----------|-----|
| ä¸Šæ‰‹éš¾åº¦ | ç®€å• | ç¨éš¾ |
| è‡ªå®šä¹‰ç¨‹åº¦ | ä½ | é«˜ |
| å›¢é˜Ÿåä½œ | ä¸€èˆ¬ | å¥½ |
| æ’ä»¶ç”Ÿæ€ | å†…ç½® | ä¸°å¯Œ |
| é€‚åˆäººç¾¤ | æ–°æ‰‹ | æœ‰ç»éªŒå¼€å‘è€… |

**å»ºè®®ï¼š** æ–°æ‰‹ç”¨ HBuilderX å¿«é€Ÿå…¥é—¨ï¼Œæœ‰ç»éªŒåç”¨ CLI + VS Code

## 9. ä¸‹ä¸€æ­¥

ç¯å¢ƒæ­å»ºå®Œæˆåï¼Œå¼€å§‹å­¦ä¹ ï¼š
- é¡¹ç›®ç»“æ„è¯¦è§£
- åŸºç¡€ç»„ä»¶ä½¿ç”¨
- é¡µé¢å¼€å‘

## 10. éªŒè¯ç¯å¢ƒ

åˆ›å»ºä¸€ä¸ªç®€å•é¡µé¢æµ‹è¯•ç¯å¢ƒæ˜¯å¦æ­£å¸¸ï¼š

```vue
<!-- pages/index/index.vue -->
<template>
  <view class="container">
    <text class="title">Hello UniApp!</text>
    <button @click="handleClick">ç‚¹å‡»æµ‹è¯•</button>
  </view>
</template>

<script setup lang="ts">
const handleClick = () => {
  uni.showToast({
    title: 'ç¯å¢ƒæ­å»ºæˆåŠŸï¼',
    icon: 'success'
  })
}
</script>

<style>
.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
}

.title {
  font-size: 40rpx;
  font-weight: bold;
  margin-bottom: 40rpx;
}
</style>
```

è¿è¡Œåèƒ½çœ‹åˆ°é¡µé¢å¹¶ç‚¹å‡»æŒ‰é’®å¼¹å‡ºæç¤ºï¼Œè¯´æ˜ç¯å¢ƒæ­å»ºæˆåŠŸï¼ğŸ‰
