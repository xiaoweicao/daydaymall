### 网络请求封装（可直接复制）

```ts
// api/request.ts
const BASE_URL = 'https://example.com'

export async function request(path, options = {}) {
  const token = uni.getStorageSync('token')
  const res = await uni.request({
    url: BASE_URL + path,
    header: { Authorization: token ? `Bearer ${token}` : '' },
    timeout: 10000,
    ...options
  })
  const [error, data] = res
  if (error) throw error
  const { statusCode, data: body } = data
  if (statusCode >= 200 && statusCode < 300) return body
  throw new Error(body?.message || 'Network Error')
}
```

用法：

```ts
import { request } from '@/api/request'

const list = await request('/api/list')
```

